{
    "proc" : [
            {
              "name"        : "player"
            , "watch"       : ["../play/src/**/*.js"]
            , "execOptions" : [{"cwd": "../play"}
                             , {"ignoreError": true, "shell" : true, "env" : { "PATH" : "./node_modules/.bin/"}}
                             , {"shell" : true}
                             , {"shell" : true}
                            ]
            , "exec"        : ["npm run bundle"
                             , "shx mkdir node_modules/@mediagoom/play"
                             , "shx cp -r ../play/lib node_modules/@mediagoom/play"
                             , "shx cp ../play/package.json node_modules/@mediagoom/play"
                            ]
        }
        , {
                "name"        : "api"
              , "watch"       : ["../node-play/src/**/*.js", "!../node-play/src/**/client/*", "!../node-play/src/**/test/*"]
              , "execOptions" : [{"cwd": "../node-play"}]
              , "exec"        : []
              , "options"     : {"cwd": "../node-play"}
              , "cmd"         : {"proc": "node", "args": ["./src/server/index.js"]}
         }
         , 
         {
              "name"  : "node-play-ui"
            , "comment" : "js files are watched be webpack dev server. We restart when we modify webpack.config.js "
            , "watch" : ["*.config.js"]
            , "cmd"   : {"proc": "npm", "args": ["run", "serve", "--", "--mode", "development"]}
            , "debug" : false 
            , "break" : false
            , "options" : { "env":{
                                      "DEVMANID" : "PROCESS-2"
                                    , "CONSOLECHAR" : "[2]"
                                  }
                            , "shell" : true
                          }
                          
         }
         

    ]

}
